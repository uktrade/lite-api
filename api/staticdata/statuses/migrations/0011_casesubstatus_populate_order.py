from django.db import migrations


def update_order(apps, schema_editor):
    CaseSubStatus = apps.get_model("statuses", "CaseSubStatus")

    SUB_STATUS__UNDER_FINAL_REVIEW__INFORM_LETTER_SENT = "00000000-0000-0000-0000-000000000001"
    SUB_STATUS__FINALISED__REFUSED = "00000000-0000-0000-0000-000000000002"
    SUB_STATUS__FINALISED__APPROVED = "00000000-0000-0000-0000-000000000003"
    SUB_STATUS__FINALISED__APPEAL_REJECTED = "00000000-0000-0000-0000-000000000004"
    SUB_STATUS__FINALISED__APPEAL_REFUSED = "00000000-0000-0000-0000-000000000005"
    SUB_STATUS__FINALISED__APPEAL_APPROVED = "00000000-0000-0000-0000-000000000006"
    SUB_STATUS__UNDER_APPEAL__APPEAL_RECEIVED = "00000000-0000-0000-0000-000000000007"
    SUB_STATUS__UNDER_APPEAL__SENIOR_MANAGER_INSTRUCTIONS = "00000000-0000-0000-0000-000000000008"
    SUB_STATUS__UNDER_APPEAL__PRE_CIRCULATION = "00000000-0000-0000-0000-000000000009"
    SUB_STATUS__UNDER_APPEAL__OGD_ADVICE = "00000000-0000-0000-0000-000000000010"
    SUB_STATUS__UNDER_APPEAL__FINAL_DECISION = "00000000-0000-0000-0000-000000000011"

    order_values = [
        [SUB_STATUS__UNDER_FINAL_REVIEW__INFORM_LETTER_SENT, 0],
        [SUB_STATUS__FINALISED__REFUSED, 0],
        [SUB_STATUS__FINALISED__APPROVED, 10],
        [SUB_STATUS__FINALISED__APPEAL_REJECTED, 20],
        [SUB_STATUS__FINALISED__APPEAL_REFUSED, 30],
        [SUB_STATUS__FINALISED__APPEAL_APPROVED, 40],
        [SUB_STATUS__UNDER_APPEAL__APPEAL_RECEIVED, 0],
        [SUB_STATUS__UNDER_APPEAL__SENIOR_MANAGER_INSTRUCTIONS, 10],
        [SUB_STATUS__UNDER_APPEAL__PRE_CIRCULATION, 20],
        [SUB_STATUS__UNDER_APPEAL__OGD_ADVICE, 30],
        [SUB_STATUS__UNDER_APPEAL__FINAL_DECISION, 40],
    ]

    for sub_status_id, order in order_values:
        CaseSubStatus.objects.filter(id=sub_status_id).update(order=order)


class Migration(migrations.Migration):
    dependencies = [
        ("statuses", "0010_casesubstatus_order"),
    ]

    operations = [
        migrations.RunPython(update_order, migrations.RunPython.noop),
    ]
