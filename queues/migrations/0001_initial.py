# Generated by Django 2.2 on 2019-05-22 09:44

from django.db import migrations, models
import uuid


def init(apps, schema_editor):
    # We can't import the Queue model directly as it may be a newer
    # version than this migration expects. We use the historical version.
    Queue = apps.get_model('queues', 'Queue')
    if not Queue.objects.all():
        queue = Queue(id='00000000-0000-0000-0000-000000000001',
                      name='New Cases')
        queue.save()


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('cases', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Queue',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.TextField(default='Untitled Queue')),
                ('cases', models.ManyToManyField(to='cases.Case')),
            ],
        ),
        migrations.RunPython(init),
    ]
